---
title: "백테스팅 툴 및 차트 분석 정리 #1"
description: "제테크 오답노트 앞으로도 조심해야 할 것들"
time: 2023-09-06 20:51:00
tags:
  - backtest
  - 코인 차트
---

인생으로 치면 그렇게 오랜기간 투자하지 않았고, 마침 쉬는 기간이라 틈틈히 관심 있었던 자동매매 시스템([backtest](https://github.com/fromitive/backtest))을 개발하고 있었다.

시스템은 블로그나, 일기를 쓰기 전까지 얼추 구조를 가지고 있었고 유의미한 투자전략을 얻기 위해 고군분투 하였다. 

하지만, 운좋게 단기간에 성과를 내지는 못하였고, 오히려 사는 종목마다 족족 떨어졌었다. 결론적으로 말하자면 주식시장은 100%는 없다. 오직 자신의 확신을 높이기 위한 근거를 많이 쌓고 진입을 해야 한다고 생각한다. 그래야 자신의 맨탈이 흔들리지 않고 오랫동안 경험을 축적할 수 있다고 믿는다.

이는 주식시장 뿐만 아니라 인생도 마찬가지 인 것 같다. 사람들의 욕망의 지표를 주식으로 보는 사람이 있다. 누가 맞고 틀리다는 이야기가 아니고, 상황에 따라 자신이 옳을 수도 있고 방향이 잘못될 수도 있다는 것이다. 

방향이 잘못된다면, 자신의 방식에 대해 잘못되었음을 인정하고 방향을 전환하는 것이 현명해보인다. 아니면, 자신의 방법의 성과가 아직 나지 않는데 이른 성과를 내기 위해 성급하게 결론 지은 것일 수 도 있다. 

> 성공하는 트레이딩의 핵심은 10%의 기술적 분석과 90%의 기분관리이다

자신이 가고자 하는 방향을 명확하게 알고, 그대로 밀어 붙이며 늘 검토하는 습관이야말로 현재로서 내가 내릴 수 있는 결론이라고 생각한다. {==그만해야 할 때를 알고 실행해야 할 때를 아는 것==} 인생은 어렵다..!

## 백테스팅 결과가 잘 나오지 않았고, 실전 투자에서 낭패를 본 이유

어느때나 백테스팅 전략을 개발하고 있었고, 실제 돈을 넣어 실험을 해보았다. 1만원 2만원이 아닌, 100 200을 넣고 투자를 하였고, 결론적으로 전체 중 승률이 5퍼센트 정도 되었다. 나머지는 많이 잃었다.

아래는 필자가 실패 요인을 정리한 것이며 같은 실수를 반복하지 않도록 계속 상기해야 할 것이다.  

### 모호하고 단순하고 약한 논리를 가진 근거들

백테스팅을 할 때 전적으로 지표를 많이 믿었다. RSI 볼린저벤드, MA곡선. 모두가 보는 지표에서 시장은 그렇게 변화하지 않는다 그리고 결정적으로 짧은 타임프레임 봉 차트(30분, 1분)에서 모든 것을 분석하려고 했다.

전체의 방향이 하락을 가리키고 있는데, 짧은 신호를 가지고 여러가지를 판단했던게 가장 문제가 되었다.

물론, 상승장에서는 어떻게 돈을 넣어도 오르겠지만, 지금과 같은 하락장에서는 거의 대부분 돈을 잃은 것 같다 (현재 2023년 6 ~ 8월 기준)

따라서, 원숭이도 투자하면 수익이 나는 상승장에서 투자해야하며, 그 기준은 일봉 기주 이동 평균선(moving average line) 200일 선이다. {==**30분 봉이 아닌 일봉 이평선이다.**==} 긴 타임프레임 지표와 캔들은 짧은 타임프레임 지표와 캔들보다 더욱 큰 신뢰를 받는다. {==**나무를 보기 전에, 숲부터 보는 것은 오늘날에도 먹힌다.**==}

### 가짜신호

백테스팅 결과는 과거의 데이터를 가지고 수익율을 분서한 결과일 뿐이다. 최신 백테스팅 결과를 가지고 투자한 결과는 {==**아직 시간이 지나지 않았기 때문에 결과가 바뀐다.**==} 예로들어, 최신 30분봉에서 매수신호가 떳지만, {==**시간이 지나고서 해당 신호의 백테스팅 결과를 보면 매수신호가 사라진 것을 종종 보았다.**==}

따라서 백테스팅은 {==**성공사례일 뿐이며 현재 매수신호가 나왔다고 해서 투자할게 아니라, 해당 부분 부터 철저한 조사가 이루어 져야 한다**==}

## 결국, 차트를 분석하는 방법을 조사

내가 사용한 전략이 왜 실패했는지 조사하기 위해 여러 유튜브들을 조사했고, 대부분 지표를 가지고 테스팅을 하였다. 하지만, 거의다 자신들이 만들어 낸 지표(indicator)들을 소개할 뿐이고, 원리를 소개하진 않았다. 아래는 필ㅈ가 투자에 확신을 가지기 위해 조사했던 것들을 소개한다.

### 투자게임으로 자신의 투자 방식에 확신을 갖기까지

우연히 맞춤형 광고로 투자 게임을 할 수 있는[알파스퀘어](https://www.alphasquare.co.kr/)를 발견하였다. 해당 게임은 가상의 게임머니를 주어지고, 랜덤한 주식 및 기간을 가지고 모의투자를 하는 게임이다.

50턴이 주어지며 큰 수익과, 어차피 잃어도 될 돈이였어서 30분 봉이 아닌, 일봉으로 게임을 진행하였다. 5시간정도에 5판 가능하며, 5판이 부족해서인지 계정을 여러개 만들어서 게임을 하였다.

승률에 집착을 하였으며, {==**어느정도 수익이 났지만, 일정 금액 이상에선 수익이 누적되지 않았다. 손절하지 않고 자신의 진입 시점을 고수하여 더욱 잃었기 때문이다.**==} 손절의 중요성은 알지만, {==**매수하는 시점에서는 객관적인 판단은 어려웠고, 어떻게든 자신의 진입 시점의 좋은 점만 바라보았다.**==}

물론 이런 부분이 많이 맞을 때가 있어서 어느 것이 정답인진 모르겠지만, 자신의 방식이 {==**생각하는 것과 다른 방향으로 가고 있다면, 꼭 손절해야 하는 범위를 미리 지정하고 깔끔하게 손절해야 한다.**==} 그래야 지속할 수 있는 것을 배웠다.

게임을 하면서 느낀 것도 많았다. 다른건 몰라도 {==**이동평균선 200일 선 밑으로 평행선을 달리고 있는 차트는 건들면 안되다는 것을**==}, 큰 시장의 흐름을 타자


