---
title: "스타벅스에서 갑자기 생각난 추억들"
description: "열등감과 프로 장인정신에 관해서 쓰려다가 내가 했던 일을 작성한 건에 대해서"
time: 2023-11-26 17:06:52
tags:
  - diary
  - life
---

## 나는 워커홀릭이 아니다

나는 워커홀릭이 아니다. 적당히 일하고 싶다. 그러나, 반드시 끝내야 하는 일은 끝낸다. 나에게 주어진 책임이 있기 때문이다. 어떻게 보면 하기 싫은데도 기간내에 해야하는 책임감이 있기 때문에 하게 된다.

### 게임 회사 컨설팅을 맡게 되다

가장 힘들었던 시간은 게임 회사에서 기간 내에 진단해야 하는 일이 주어졌을 때였다. 그 게임 회사에 첫 번째로 투입되었을 때, 인프라 취약점 진단을 맡게 되었는데 회사가 커서 12개의 부서의 팀장 및 부팀장 역할을 하시는 분들과 커뮤니케이션 하게 되었다.

어떻게 보면 유명한 게임회사 이고 작았던 우리 회사에서 컨설팅 하기에는 정말 큰 도전이라고 생각했다. 진단 대수는 역시나 다른 기관보다 차원이 달랐다. IT 사업을 주로하기 때문에 인프라 진단 대상이 많았고 사용하는 미들웨어 종류도 가장 많았다. 크게 성장하기에 더할 나위 없는 환경이자 기회라 생각하여 열정이 가득했었다. 최대한 많이 경험하고, 어떤 고민이 있는지 최대한 얻고자 했었다.

### 기존의 방식으로는 발전할 수 없다고 생각했다

이를 위해 기존 진단방식을 적용하여 진단하기에는 시간이 빠듯하다고 생각했다. 수동으로 결과 값을 확인하고 계정에 대해 수동으로 정리하는 것은 오탐할 확률이 높았고 내년에 다시 진단하였을 때 수동으로 다시 설정값을 가져와서 진단한다고 생각할 때 계속 의미 없는 시간만 보내다 프로젝트가 끝날 확률이 높았다. 그리고 우리 회사 인프라 진단의 장점을 온전히 보여주지 못할 까봐 너무 억울할 것 같았다.

그래서 기존 회사의 진단방식을 그대로 자동으로 수행하도록 하는 스크립트를 개발하게 되었다. 제일 점검항목이 많은 OS를 시작하였고, 어떻게 스크립트 결과값을 엑셀에 넣을 수 있는지 고민하였다. 

점검항목 별로 진단 결과가 텍스트파일로 떨어지고 이를 파싱하여 결과 값을 엑셀로 옮기기만 하는 코드도 만들 수 있었다. 실제로 만드는데 3시간도 안걸리긴 했었다. 다른 팀이 우리 회사 스크립트를 사용하지 않는 상황이 있어서 만들어 본 경험이다.

### 스크립트를 대규모 개편했다

기존 텍스트 결과 파일은 고정된 값이었다. 상황에 따라 여러 설정파일을 봐야하는데, 그부분을 수정하기에는 스크립트 언어(Batch와 Bash)가 어려웠고, 절차지향 성질이 있어서 의존성과 유지보수 시간이 오래 걸렸었다. 또한, Web/WAS 스크립트는 별도였기 때문에 어디에 Web/WAS가 있는지 모를 경우 자산이 누락되어 추가로 진단해야하는 이슈도 벌어지게 되었다.

### 스크립트 대규모 개편 결과

이를 해결하기 위해 기존 스크립트 파일을 대규모 개편하기로 마음 먹었다. 취약점 진단 결과를 분석하는 로직을 전부 제거를 하고 최대한 단순하게 제작하였다. Web/WAS 스크립트는 서버 스크립트와 통합하였다. 서버에 스크립트가 알고 있는 Web/WAS가 동작하게 될 경우 그의 설정파일과 버전 및 주요 디렉터리 권한을 가져오도록 설계하였다. 그 결과, 스크립트 오류 발생률이 줄어들었고. 자산 식별을 효과적으로 할 수 있었다. 어느 때는 원래 Web/WAS가 실행되서는 안되는 자산에 Web/WAS가 실행되는 것들도 찾게 되어 리뷰 할 때 찾아줘서 고맙다고 피드백을 받아 뿌듯했었던 적이 있었다. 또한 스크립트를 구동하면서 10대 중 1대는 스크립트 오류가 나타났는데, 이제는 프로젝트 별로 오류가 1개씩 밖에 나지 않았다. 이는 진단할 시간을 1주일 더 확보할 수 있었다.

### 하지만 문제점도 있었다

내가 쓰는 스크립트는 동료들에게도 전달이 되었다. 하지만, 기존의 텍스트 파일로 진단하고자 하는 동료도 있었다. 기존의 동료는 지금 수정한 스크립트가 마음에 들어하지 않았다. 프로그래밍을 하지 못하면 결과 파일을 분석하는데 불편하고 시간이 오래 걸린다고 한다. 나만 생각한게 너무 컸다. 파이썬을 사용할 줄 알았기에 나는 이 방식이 옳다고 생각했지만, 프로그래밍을 하지 않고 진단하기에는 사용할 수 있는 정보가 너무 많고, 봐야할 파일들이 많고, 한눈에 알아보지 못하기 때문에 힘들어했다.

따라서 원래 진단한 부분을 복구하게 되었다. 크게 변경하기 위해서는 권력을 잡거나, 같이 가거나 둘 중 하나는 해야한다고 생각했다. 이상적이지만 현실적이지 못했다.

### 내가 모든 책임을 지려고 했다

그렇다면 분석하는 스크립트를 제작해서 동료들에게 배포하면 어떨까 생각했다. 사용법도 간단하게 하고 원터치로 변경된 스크립트를 정리하고 엑셀로도 보고서가 나오도록 하면 어떨까 생각했다. 

하지만 설계부터 난관이 있었다. 변경에 대해 쉬워야 하고 오류가 발생했을때 쉽게 고칠 수 있어야 했다. 그때 클린 코드를 알았다면... 객체지향 프로그래밍이 무엇인지 알았더라면 아쉬운 점이 많았따. 뭐, 지금도 잘 모르겠다~

다른 높으신 분들이 보기에는 나에게 기대를 하지 않은 것 같았다. 사실 맞다. 한 달동안 아무것도 진단 안하고 스크립트 개발만 열중 하였으니까, 겉으로 보았을 때는 내가 아무것도 안하는 줄 알겠더라. 높으신 분은 프로젝트가 잘못될까봐 조마조마 하였다. 내가 모든 책임을 진다 생각하지만. 높으신분들은 아니다. 지금 나 하나 때문에 프로젝트가 엉망이 되게 생겼다. 전체적으로 보았을 땐 안좋은 생각이었다. 내가 비전을 보여주도록 설득해야 했고, 커뮤니케이션을 통해서 어느정도 진단을 끝낸 결과물을 보여주었어야 했는데, 나 혼자만 바빳고 눈치 없이 주어진 과제를 안한 녀석으로 보여졌을게 보인다.

이렇게 파이썬으로 자동화 툴을 만들게 되었다. 서버 자동화 스크립트 하나 만드는데 한 달이상 걸렸지만, 시간은 압도적으로 단축시킬 수 있었다. 100대를 1주일안에 진단했던게, 하루면 전부 진단할 수 있게 되었다. 이제 리눅스, DBMS(Maria, MSSQL), Web/WAS(apache, apache tomcat, nginx)를 만들어야 한다.

### 동료들이 믿어줬기에 지금의 내가 있다.

돌이켜보면 내가 너무 많은 책임을 지려 했다. 나 혼자서 해결하려고만 했다. 그저 끝에 보여주려고만 생각해서 동료들의 눈에는 내가 못 미더운 사람으로 찍힐거라 생각했다. 하지만, 그 때 동료들이 믿고 기다려 주었기 때문에 그리고 믿어줘서 너무 고맙게 생각한다. 동료들이 믿어줬기에 여기까지 온 것이지 내가 잘나서 여기까지 온게 아니라고 생각한다. 뭐 그들 생각은 다를 수 있겠지만, 최소한 나는 그렇게 생각한다. 기회를 줘서 고맙다.

### 그 이후

#### 달라진 진단 방식

그 이후로는 진단 방식이 많이 달라졌다. 수동으로 점검하는 빈도가 줄어들게 되었고, 무엇보다 엑셀로 설정 값을 옮기는 작업이 훨 씬 줄게 되었다. 일주일에 대부분을 소요하는 의미 없는 시간이 이제 분석을 제대로 할 수 있는 시간으로 변화하였다. 기술 컨설팅을 하지 않으신 분들도 내가 만든 툴을 이용하여 진단할 수 있었다. 전체적으로 봤을때 그래도 꽤나(?) 회사에 기여했다고 생각한다.

#### 여전히 일어나는 스크립트

모든 요구사항은 만족하지 못한다. 작년에 잘 돌아갔다고 해서 올해도 잘 돌아갈것이라는 스크립트는 다시 한 번 오류가 발생하게 되었다. 인프라 구축 방식은 다양했고, 새로운 시스템은 도입되어 스크립트를 그동안 많이 수정하게 되었다. 3년동안 가장 많이 변한 부분은 docker와 kubernetes를 이용하여 인프라를 구축한 환경이었다. 한 서버에 여러개의 그리고 여러 종류의 Web WAS가 동작할 수 있게 되었고, 지금까지 썼던 기술부채의 타격을 그대로 입게 되었다. 스크립트도 프로그램이기 때문에 살아있음을 처음 깨달았다. 완벽하게 해결되진 않았다.

#### 내가 생각한 성과가 크다고 해서 그들도 크다고 생각하지 않았다.

군대 중 제일 힘든 부대는 "자기가 나온 부대"가 가장 힘들다는게 정답이다. 그렇다. 아무리 그렇게 고생을 해서 기여를 하는 것과 좀 더 의미있는 경험을 쌓을 수 있도록 투자하는 것은 다르다. 다른 동료들도 고생하며 일하고 있다. 나 뿐만이 고생한게 아니다. 모두가 힘들다. 거기서 더 주장해봤어도 너무 고생했다고 알아주지 않았었다. 내가 많이 고생했다고 해서 내가 그들보다 연봉이 2배인것도 아니였다. 이렇게 보면, 연봉 100 ~ 200더 받으려고 그고생을 했는지 모르겠다. 남이 고생해주니까 너는 그냥 가만히 있어도 된다고 생각하는 사람들이 많았다. 그리고, 왜 그렇게 열심히 사냐는 늬앙스로 이야기 하는 동료들도 많았다. 직설적으로 안 말해도 행동에서도 그렇게 보였다. 나와 맞지 않았다. 이제 좀 다른 도전이 있나 싶었지만, 1000대 진단 가능하니, 프로젝트를 더 보내주더라. 사실 회사 입장에서는 그게 맞다. 한 개인의 성장은 이직의 리스크가 너무 컸던 걸까? 

그 이후로, 나는 의욕이 많이 사라졌다. 좀 더 이성적이게 되었고 열정적인 마음은 좀 더 식어 현실을 냉소적으로 바라보게 되었다. 가만 보면 이렇게 일기를 쓰는 것도 마음의 응어리가 아직 남아있는 거라 보고 있다. 거절이 이전보다 쉬워지게 된 느낌이다(거절을 한 적이 있었나?). 

언제까지 과거를 붙잡고 나 잘했소라고 살수는 없다. 계속 앞으로 나아가야 한다. 아직 30살이다. 죽을려면 멀었다. 그리고 아직도 남은 도전이 많다. 경험할 것도 많고, 돈도 제법 쌓였다. 20살 때보다 피곤한 것 같지만, 운동으로 커버하자. 다시 많은걸 경험하고, 기회를 준 분들께 감사하자. 기회에 보답하자. 다시 책임을 지자. 비록 냉소적으로 바라봐 나를 깎아 내린다고 생각해도, 이번엔 버티고 또 버티자. 전 회사처럼 나를 깎아내리고 내 고생을 무의미하게 이야기하는 사람들을 멀리하고, 어떻게 하면 좀 더 발전할 수 있을지 이야기하는 동료들을 많이 만나려고 노력하자. 생각한 대로 되지 않을 것이다. 살아있는 한 무조건 다시 무너질 것이다. 하지만 나를 죽이지 못하는 시련은 나를 더욱더 강하게 만들어 줄 것이다. 할 수 있다.










