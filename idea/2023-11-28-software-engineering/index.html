
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="좀 더 가독성 있고 구조를 볼 수 있는 구성">
      
      
        <meta name="author" content="fromitive">
      
      
        <link rel="canonical" href="https://fromitive.github.io/fromitive-diary/idea/2023-11-28-software-engineering/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>요구사항 분석에 객체지향을 적용해보자 - 일기는 일기장에</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="요구사항 분석에 객체지향을 적용해보자 - 일기는 일기장에" >
      
        <meta  property="og:description"  content="좀 더 가독성 있고 구조를 볼 수 있는 구성" >
      
        <meta  property="og:image"  content="https://fromitive.github.io/fromitive-diary/assets/images/social/idea/2023-11-28-software-engineering.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://fromitive.github.io/fromitive-diary/idea/2023-11-28-software-engineering/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="요구사항 분석에 객체지향을 적용해보자 - 일기는 일기장에" >
      
        <meta  name="twitter:description"  content="좀 더 가독성 있고 구조를 볼 수 있는 구성" >
      
        <meta  name="twitter:image"  content="https://fromitive.github.io/fromitive-diary/assets/images/social/idea/2023-11-28-software-engineering.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="일기는 일기장에" class="md-header__button md-logo" aria-label="일기는 일기장에" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.56 9.09C14.66 7.18 12.54 6 11 6c.47 1.4.28 2.57-.05 3.43C8.45 10 6 11 6 11S3 7 1 7l2 6-1 4c2 0 4-3 4-3s5 2 8 2v2c.65 0 1.91-.83 2.73-2.23 1.24-.21 2.27-.56 3.14-.96-.15-.18-.34-.37-.59-.51-.65-.39-1.46-.63-2.28-.8.82-.16 1.67-.28 2.59-.15.46.06.95.19 1.41.51.1.06.17.14.24.19C22.4 13.26 23 12.44 23 12c0-.87-3.81-2.5-7.44-2.91M18 12c-.55 0-1-.45-1-1 0-.24.1-.45.23-.62.61.12 1.2.29 1.74.46.03.05.03.1.03.16 0 .55-.45 1-1 1Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            일기는 일기장에
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              요구사항 분석에 객체지향을 적용해보자
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.04 7 9.54 0 4.5-2.94 8.27-7 9.54.95.3 1.95.46 3 .46a10 10 0 0 0 10-10A10 10 0 0 0 9 2Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../diary/" class="md-tabs__link">
        
  
    
  
  Diary

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link">
        
  
    
  
  Idea

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
    
  
  Tags

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="일기는 일기장에" class="md-nav__button md-logo" aria-label="일기는 일기장에" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.56 9.09C14.66 7.18 12.54 6 11 6c.47 1.4.28 2.57-.05 3.43C8.45 10 6 11 6 11S3 7 1 7l2 6-1 4c2 0 4-3 4-3s5 2 8 2v2c.65 0 1.91-.83 2.73-2.23 1.24-.21 2.27-.56 3.14-.96-.15-.18-.34-.37-.59-.51-.65-.39-1.46-.63-2.28-.8.82-.16 1.67-.28 2.59-.15.46.06.95.19 1.41.51.1.06.17.14.24.19C22.4 13.26 23 12.44 23 12c0-.87-3.81-2.5-7.44-2.91M18 12c-.55 0-1-.45-1-1 0-.24.1-.45.23-.62.61.12 1.2.29 1.74.46.03.05.03.1.03.16 0 .55-.45 1-1 1Z"/></svg>

    </a>
    일기는 일기장에
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Idea
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      지난글에 이어서
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      객체로 나누어 보기
    </span>
  </a>
  
    <nav class="md-nav" aria-label="객체로 나누어 보기">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 상영
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 영화
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 고객
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 할인 정책
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 할인 조건
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 예매
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 돈
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      결론 : 요구사항에 따라 객체와 객체의 행위가 달라진다.
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>요구사항 분석에 객체지향을 적용해보자</h1>

<h2 id="_1">지난글에 이어서</h2>
<p>지난글에서는 다음과 같이 specification으로 분리해보았다. 이렇게 리스트 형태로 분리하다보면 무엇을 만들어야할지 한눈에 보이지 않는다. 객체지향 프로그래밍은 이를 보기 쉽게 변경이 가능하도록 도와준다. 보기 쉽게 변경이 가능하다는 말은 어떤 것을 개발해야 할지 한 눈에 보이게 만든다는 말과 동일하다고 생각한다. 그리고 직관적이다. 객체 사이의 관계를 명확하게 보여주기 때문이다.</p>
<div class="highlight"><span class="filename">오브젝트에서 설명하는 영화 예매 시스템</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>1. 예매자는 특정한 조건을 만족하면 요금을 할인받을 수 있다. 
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>2. 할인액을 결정하는 `할인 조건` 및 `할인 정책` 이라는 두 가지 규칙이 존재한다. 
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>3. `할인 조건`은 가격의 할인 여부를 결정하며 `순서 조건`과 `기간 조건`의 두가지로 나눌 수 있다.
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>4. `순서 조건`은 상영 순번을 이용해 할인 여부를 결정하는 규칙이다
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>5. **(숨겨진 Specification)** 상영에는 순번(number)이 있다.
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>6. `기간 조건`은 영화 상영 시작 시간을 이용해 할인 여부를 결정한다. `기간 조건`은 요일, 시작 시간, 종료 시간의 세 부분으로 구성되며 영화 시작 시간이 해당 기간 안에 포함될 경우 요금을 할인한다.
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>7. **(숨겨진 Specification)** 상영에는 시작 시간이 있다.
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>8. `할인 정책`은 할인 요금을 결정한다. 할인 정책에는 `금액 할인 정책`과 `비율 할인 정책`이 있다.
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>9. `금액 할인 정책`은 예매 요금에서 일정 금액을 할인해주는 방식이다.
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>10. `비율 할인 정책`은 정가에서 일정 비율의 요금을 할인해 주는 방식이다.
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>11. **영화별로 하나의 할인 정책만 할당할 수 있다** 할인 정책을 지정하지 않는 것도 가능하다.
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>12. 할인 조건은 다수의 할인 조건을 함께 지정할 수 있다. 순서 조건과 기간 조건을 섞을 수도 있다.
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>13. 할인을 적용하기 위해서는 할인 조건과 할인 정책을 함께 조합해서 사용한다.
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>14. 사용자의 예매 정보가 할인 조건 중 하나라도 만족하는지 검사한다.
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>15. 할인 조건을 만족할 경우 할인 정책을 이용해 하인 요금을 계산한다.
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>16. 할인 정책은 적용돼 있지만 할인 조건을 만족하지 모사는 경우나 할인 정책이 적용되어 있지 않은 경우에는 할인하지 않는다.
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>17. **(숨겨진 Specification)** 예매를 하는 사용자는 2명 이상 예매할  수 있다.
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>18. **(숨겨진 Specification)** `금액`은 할인하기 위해 더하기, 곱하기(비율 할인 정책), 빼기(금액 할인 정책)를 할 수 있어야 한다.
</code></pre></div>
<h2 id="_2">객체로 나누어 보기</h2>
<p>specification을 객체로 나누면 아래와 같게 나온다.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>1. 상영
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>2. 영화
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>3. 고객
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>4. 할인 정책
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    1) 금액 할인 정책
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    2) 비율 할일 정책
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>5. 할인 조건
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    1) 기간 조건
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    2) 순서 조건
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>6. 예매
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>7. 돈
</code></pre></div>
<p><code>7. 돈</code>은 요구사항에 바로 나타나진 않았지만, 예매를 하기 위해서는 금액이 필요하고, 할인의 대상도 돈이기 때문에 돈도 마찬가지로 필요에 따라 객체화 해야 한다. 공부하면서 느낀건 객체로 만들 필요한 것들을 가능한 객체로 만드는 것이 좋다고 생각한다.</p>
<p>이제 나누어진 객체에 따라 필요한 요구사항 및 성질을 을 상세히 작성해보자</p>
<h3 id="1">1. 상영</h3>
<p>상영은 일정한 시간에 영화를 보여주는 역할을 한다. 상영에는 순번이 있으며 각 순번마다 시작 시간이 다르다. 시작 시간은 <code>기간 할인 조건</code>과 <code>예매</code>객체를 사용하기 위해 정확한 시간이 필요하다 (년 월 일 시 분) 마지막으로 어떤 영화를 보여줄 것인가인 <code>영화</code>객체를 담는다.</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 상영 객체의 구성요소<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 순번</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 시작 시간은 정확한 시간이 필요함 (년 월 일 시 분) (<code>기간 할인 조건</code>, <code>예매</code>)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 상영할 <code>영화</code> 정보</li>
</ul>
</li>
</ul>
<p>상영 객체는 어떤 걸 할 수 있을까? 객체지향을 프로그래밍을 잘하려면 &lt;&lt;오브젝트&gt;&gt; 책에서 나와있듯이 프로그램을 객체의 자율적 협력으로 봐야한다고 설명한다. 이는 즉, 객체가 무엇을 가지고 있는지를 먼저 만들고 전체적으로 만들고 필요에 따라 method를 생성하라는 말처럼 들린다. 일단 그렇게 해보자. 메소드를 가지고 있지 않은 <code>Screeen</code> 객체를 생성해보자.</p>
<div class="highlight"><span class="filename">Screen.java</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">class</span> <span class="nc">Screen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sequence</span><span class="p">;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">startDateTime</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="n">Movie</span><span class="w"> </span><span class="n">movie</span><span class="p">;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="2">2. 영화</h3>
<p>영화는 영화 금액과, 제목이 들어간다. 특이한건, 요구사항 11번에 따라 영화와 할인 정책은 1:1 관계를 띄운다. 즉, 1개의 영화는 다른 정책을 적용할 수 없다. 이를 바탕으로 영화 객체를 만들어보자.</p>
<div class="highlight"><span class="filename">Movie.java</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">class</span> <span class="nc">Movie</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="n">Money</span><span class="w"> </span><span class="n">fee</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="n">DiscountPolicy</span><span class="w"> </span><span class="n">discountPolicy</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="3">3. 고객</h3>
<p>고객은 영화를 예매하기 위한 객체이다. 책의 상세 요구사항에 나타나있지 않지만, 요금은 개인 또는 단체에 따라 차이가 날 것이다. 또한, 현재 가지고 있는 금액보다 예매 요금이 높다면 예매를 할 수 없을 것이다. 이를 바탕으로 고객 객체를 만들어 보자.</p>
<div class="highlight"><span class="filename">Customer.java</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">class</span> <span class="nc">Customer</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">audiences</span><span class="p">;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">Money</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="p">}</span>
</code></pre></div>
<h3 id="4">4. 할인 정책</h3>
<p>요금 할인에 대한 정책이다. 13번의 요구사항에 따라 다수의 할인 조건 중 하나라도 일치하면 할인이 적용되도록 해야 한다. 이를 위해 할인 조건들을 가지고 있어야 한다.</p>
<p>할인 정책은 금액 할인 정책, 비율 할인 정책이 있다. 금액 할인 정책과 비율 할인 정책은 할인의 성격이 다르기 때문에, 별도로 생성하는 것이 유리하다.</p>
<div class="highlight"><span class="filename">DiscountPolicy.java</span><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">class</span> <span class="nc">DiscountPolicy</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">DiscountCondition</span><span class="o">&gt;</span><span class="w"> </span><span class="n">conditions</span><span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="p">}</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="kd">class</span> <span class="nc">AmountDiscountPolicy</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">DiscountPolicy</span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">Money</span><span class="w"> </span><span class="n">discountAmount</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="p">}</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="kd">class</span> <span class="nc">PeriodDiscountPolicy</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">DiscountPolicy</span><span class="p">{</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="n">Period</span><span class="w"> </span><span class="n">discountPeriod</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="5">5. 할인 조건</h3>
<p>할인 조건을 검사하기 위한 객체이다. 맴버가 없는 것이 특징이다. 어떤 변수를 받을지 예측하지 못하지만, 확실한 건 4번 6번 요구사항에 따라 상영 데이터를 받는 것이 유리할 것이다. 처음으로 맴버가 있지 않고, 다른 객체의 관계를 통해 메소드를 생성하였다. 할인 조건은 조건이 맞는지 검사한 후 할인을 받을 수 있는지에 대한 여부를 검사해야 하므로 아래와 같이 작성되어야 한다.</p>
<div class="highlight"><span class="filename">DiscountCondition.java</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">interface</span> <span class="nc">DiscountCondition</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isSatisfiedBy</span><span class="p">(</span><span class="n">Screen</span><span class="w"> </span><span class="n">screen</span><span class="p">);</span><span class="w"> </span><span class="c1">//요구사항에 따라 필요한 메소드</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="6">6. 예매</h3>
<p>드디어 예매가 나왔다. 예매에 대해 상세 요구사항이 없지만, 예매를 구분하기 위해 고객과 상영 정보를 받으면 되지 않을까? 생각한다. 적어도 누가 어떤 상영관을 예약했는지 알 수 있으니까?</p>
<div class="highlight"><span class="filename">Reservation.java</span><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">class</span> <span class="nc">Reservation</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">Customer</span><span class="w"> </span><span class="n">customer</span><span class="p">;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="n">Screen</span><span class="w"> </span><span class="n">screen</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">}</span>
</code></pre></div>
<h3 id="7">7. 돈</h3>
<p>마지막으로 숨겨진 요구사항인 돈이다. 돈을 생성해야 하는 이유는 다음과 같으며 예매 시스템을 만들고 각 객체와 상호작용을 위해 나온 객체이므로 숨겨저 보였다고 생각한다. </p>
<div class="highlight"><span class="filename">돈 객체의 생성 근거</span><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>7. 돈
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>아래의 정책을 적용하기 위해 필요
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    할인 정책은 금핵 할인 정책, 비율 할인 정책이 있다.
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    금액 할인 정책은 예매 요금에서 일정 금액을 할인해주는 방식이다.
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    비율 할인 정책은 일정 비율의 요금을 할인해 주는 방식이다.
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>영화의 금액을 결정하는데 필요
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>돈은 숫자이고 수를 다루는 기본 자료형의 통일성을 위해 필요
</code></pre></div>
<p>돈은 숫자이므로 숫자에 대한 자료형 하나 받자. java에서 제공되는 <code>BigDecimal</code>은 큰 숫자 및 소숫점까지 정확하게 계산해주는 자료형이다. 이를 통해 돈 객체를 만들어 보자.</p>
<div class="highlight"><span class="filename">Money.java</span><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">class</span> <span class="nc">Money</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="n">BigDecimal</span><span class="w"> </span><span class="n">amount</span><span class="p">;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">}</span>
</code></pre></div>
<h2 id="_3">결론 : 요구사항에 따라 객체와 객체의 행위가 달라진다.</h2>
<p>지금까지 각 요구사항을 객체로 나누는 작업을 했다. 위의 예제를 알 수 있듯이 각 단일 객체는 여러 객체로 구성될 수 있고 그렇지 못할 경우도 있다. 메소드를 작성하지 않았는데 그 이유는 <strong>요구사항에 따라 객체의 행위가 달라지기 때문이다.</strong> 요구사항이 살아있지 않을 경우에는 작성하는 것이 유리하겠지만. 현실은 그렇지 않다. 변하지 않는 것은 변하는 사실밖에 없기 때문에 요구사항은 달라진다.</p>
<p>따라서 객체의 메소드는 사라지기도 하고, 생성되거나 변경되기도 한다고 생각한다. 이를 유연하게 대처하기 위해선 &lt;&lt;오브젝트&gt;&gt;에서 말한 것 처럼 객체는 서로 협력함을 전제하에 메소드를 작성해야 한다. 예매와 상영의 관계 상영과 영화의 관계, 상영과 돈의 관계, 할인 정책과 영화의 관계 할인 정책과 상영과의 관계.. 등 객체의 개수가 많아지게 되면 각 객체의 관계는 복잡해진다.</p>
<p>이런 복잡함을 통제하기 위해 요구사항에 맞춰 객체와의 관계를 조절하고, 의존적이지 않도록 설계하는 것이 객체지향 설계의 목표라고 생각한다.</p>
<p>객체와의 관계를 적절히 설계하여 유연하게 대처할 수 있도록 작성해보자.
<br/></p>
<div class="md-typeset">
    <div class="blogging-tags-grid">

        <a href="https://fromitive.github.io/fromitive-diary/tags#object" class="blogging-tag"><code>#object</code></a>

        <a href="https://fromitive.github.io/fromitive-diary/tags#software-engineering" class="blogging-tag"><code>#software-engineering</code></a>

        <a href="https://fromitive.github.io/fromitive-diary/tags#java" class="blogging-tag"><code>#java</code></a>

    </div>


</div>

<style>
    .md-typeset .blogging-tags-grid {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 5px;
    }

    .md-typeset .blogging-tag {
        color: var(--md-typeset-color);
        background-color: var(--md-typeset-code-color);
        white-space: nowrap;
        display: block;
    }

    .md-typeset .blogging-tag code {
        border-radius: 5px;
    }
</style>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://github.com/fromitive"  target="_blank" rel="noopener">백상아리(fromitive@gmail.com)</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/fromitive" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.hackerrank.com/fromitive" target="_blank" rel="noopener" title="www.hackerrank.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M477.5 128C463 103.05 285.13 0 256.16 0S49.25 102.79 34.84 128s-14.49 230.8 0 256 192.38 128 221.32 128S463 409.08 477.49 384s14.51-231 .01-256zM316.13 414.22c-4 0-40.91-35.77-38-38.69.87-.87 6.26-1.48 17.55-1.83 0-26.23.59-68.59.94-86.32 0-2-.44-3.43-.44-5.85h-79.93c0 7.1-.46 36.2 1.37 72.88.23 4.54-1.58 6-5.74 5.94-10.13 0-20.27-.11-30.41-.08-4.1 0-5.87-1.53-5.74-6.11.92-33.44 3-84-.15-212.67v-3.17c-9.67-.35-16.38-1-17.26-1.84-2.92-2.92 34.54-38.69 38.49-38.69s41.17 35.78 38.27 38.69c-.87.87-7.9 1.49-16.77 1.84v3.16c-2.42 25.75-2 79.59-2.63 105.39h80.26c0-4.55.39-34.74-1.2-83.64-.1-3.39.95-5.17 4.21-5.2 11.07-.08 22.15-.13 33.23-.06 3.46 0 4.57 1.72 4.5 5.38C333 354.64 336 341.29 336 373.69c8.87.35 16.82 1 17.69 1.84 2.88 2.91-33.62 38.69-37.58 38.69z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/%EB%AC%B4%EC%86%A1-%EC%9D%B4-7b6b681b9/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.sections", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>